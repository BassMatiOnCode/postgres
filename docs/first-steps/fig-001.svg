<?xml version="1.0" encoding="utf-8" standalone="no"?>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" viewBox="-265 -5 510 1410" width="510" height="1410" stroke="#303060" stroke-width="1" fill="none" font-family = "Times New Roman" font-size="16" text-anchor="middle" >

<style type="text/css"><![CDATA[ 
.box {   }
text  { stroke-width : 0 ; stroke : none ; fill : #606060 }
circle { stroke-width : 2 }
.circle text { text-align : right }  
line { stroke : #606060 }
]]></style>

<marker id="arrow" orient="auto" refY="0" refX="0" style="overflow:visible">
    <path d="M -15 -5 L 0 0 -15 5 A 10 10 30 0 0 -15 -5 z " />
    </marker>

<g transform="translate(0 20)">
	<circle cx="0" cy="0" r="15" />
	<text x="-40" y="5" >Start</text>
	<line x1="0" y1="15" x2="0" y2="45" marker-end=" url(#arrow)"/>
	</g>
<g class="box" transform="translate( 0 80 )">
	<rect x="-120" y="-15" width="240" height="30" />
	<text x="0" y="5" >Compile the list of import files</text>
	<line x1="0" y1="15" x2="0" y2="45" marker-end=" url(#arrow)"/>
	</g>
<g transform="translate(0 135)">
	<circle cx="0" cy="0" r="10" />
	<text x="35" y="5" >Next</text>
	<line x1="0" y1="10" x2="0" y2="40" marker-end=" url(#arrow)"/>
	</g>
<g class="box" transform="translate( 0 200 )">
	<rect x="-120" y="-25" width="240" height="50" />
	<text x="0" y="-5" >Pick topmost file</text>
	<text x="0" y="12" >from the list</text>
	<line x1="0" y1="25" x2="0" y2="55" marker-end=" url(#arrow)"/>
	</g>
<g transform="translate(0 265)">
	<circle cx="0" cy="0" r="10" />
	<text x="35" y="5" >Retry</text>
	<line x1="0" y1="10" x2="0" y2="40" marker-end="url(#arrow)"/>
	</g>
<g class="box" transform="translate( 0 335 )">
	<path d="M 0 -30 L 70 0 0 30 -70 0 z" />
	<text x="0" y="-10" >Table</text>
	<text x="0" y="7" >postponed</text>
	<text x="0" y="24" >?</text>
	<text x="-90" y="-10" >no</text>
	<text x="90" y="-10" >yes</text>
	<path d="M-70 0 l -5 0 a 20 20 90 0 0 -20 20 l 0 30" marker-end="url(#arrow)" />
	<path d="M 70 0 l 5 0 a 20 20 90 0 1 20 20 l 0 30" marker-end="url(#arrow)" />
	</g>
<g class="box" transform="translate( -95 410 )">
	<rect x="-60" y="-25" width="120" height="50" />
	<text x="0" y="-5" >Create/edit</text>
	<text x="0" y="14" >code in work.sql</text>
	<line x1="0" y1="25" x2="0" y2="55" marker-end=" url(#arrow)"/>
	</g>
<g class="box" transform="translate( -95 490 )">
	<rect x="-60" y="-25" width="120" height="50" />
	<text x="0" y="-5" >Run work.sql</text>
	<text x="0" y="14" >in PSQL</text>
	<path d="M 0 25 l 0 10 a 20 20 90 0 0 20 20 l 65 0" marker-end="url(#arrow)" />
	</g>
<g class="box" transform="translate( 95 410 )">
	<rect x="-70" y="-25" width="140" height="50" />
	<text x="0" y="-5" >Edit code</text>
	<text x="0" y="14" >in postponed.sql</text>
	<line x1="0" y1="25" x2="0" y2="55" marker-end=" url(#arrow)"/>
	</g>
<g class="box" transform="translate( 95 490 )">
	<rect x="-70" y="-25" width="140" height="50" />
	<text x="0" y="-5" >Run postponed.sql</text>
	<text x="0" y="14" >in PSQL</text>
	<path d="M 0 25 l 0 10 a 20 20 90 0 1 -20 20 l -65 0" marker-end="url(#arrow)" />
	</g>
<g transform="translate(0 545)">
	<circle cx="0" cy="0" r="10" />
	<line x1="0" y1="10" x2="0" y2="40" marker-end="url(#arrow)"/>
	</g>
<g class="box" transform="translate( 0 605 )">
	<path d="M 0 -20 L 70 0 0 20 -70 0 z" />
	<text x="0" y="5" >Success?</text>
	<text x="-90" y="-10" >no</text>
	<text x="-25" y="35" >yes</text>
	<line x1="0" y1="20" x2="0" y2="50" marker-end=" url(#arrow)"/>
	<path d="M 70 0 l 90 0 a 20 20 90 0 1 20 20 l 0 310 a 20 20 90 0 1 -20 20 l -140 0 a 20 20 90 0 0 -20 20 l 0 30" marker-end="url(#arrow)" />
	</g>
<g class="box" transform="translate( 0 655 )">
	<rect x="-120" y="0" width="240" height="30" />
	<text x="0" y="20" >Drop target table(s) if created</text>
	<line x1="0" y1="30" x2="0" y2="60" marker-end="url(#arrow)"/>
	</g>
<g class="box" transform="translate( 0 740 )">
	<path d="M 0 -25 L 70 0 0 25 -70 0 z" />
	<text x="0" y="5" >Syntax error?</text>
	<text x="-90" y="-10" >yes</text>
	<text x="25" y="35" >no</text>
	<path d="M -70 0 l -120 0 a 20 20 90 0 1 -20 -20 l 0 -435 a 20 20 90 0 1 20 -20 l 180 0"  marker-end="url(#arrow)" />
	<line x1="0" y1="25" x2="0" y2="85" marker-end=" url(#arrow)"/>
	</g>
<g transform="translate( 0 770 )" text-anchor="end">
	<text x="-20" y="20" >Referenced parent</text>
	<text x="-20" y="38" >table does not exist</text>
	</g>
<g class="box" transform="translate( 0 825 )">
	<rect x="-120" y="0" width="240" height="95" />
	<text x="0" y="20" >1. Move work.sql content</text>
	<text x="0" y="38" >to top of postponed.sql</text>
	<text x="0" y="60" >2. Move entry for missing table</text>
	<text x="0" y="78" >to top of import file list</text>
	<path d="M 0 95 l 0 20 a 20 20 90 0 1 -20 20 l -210 0" marker-end=" url(#arrow)" />
	</g>
<g transform="translate(-240 960)">
	<circle cx="0" cy="0" r="10" />
	<path d="M 0 -10 l 0 -795 a 20 20 90 0 1 20 -20 l 210 0" marker-end="url(#arrow)" />
	</g>
<g class="box" transform="translate( 0 1025 )">
	<path d="M 0 -20 L 70 0 0 20 -70 0 z" />
	<text x="0" y="5" >Postponed?</text>
	<text x="-90" y="-10" >no</text>
	<text x="90" y="-10" >yes</text>
	<path d="M-70 0 l -5 0 a 20 20 90 0 0 -20 20 l 0 30" marker-end="url(#arrow)" />
	<path d="M 70 0 l 5 0 a 20 20 90 0 1 20 20 l 0 30" marker-end="url(#arrow)" />
	</g>
<g class="box" transform="translate( -85 1075 )">
	<rect x="-70" y="0" width="140" height="65" />
	<text x="0" y="18" >Move code</text>
	<text x="0" y="36" >in work.sql</text>
	<text x="0" y="54" >to create-tables.sql</text>
	<line x1="-10" y1="65" x2="-10" y2="85" />
	</g>
<g class="box" transform="translate( -85 1160 )">
	<rect x="-70" y="0" width="140" height="45" />
	<text x="0" y="18" >Delete topmost</text>
	<text x="0" y="36" >entry from the list</text>
	<path d="M -10 45 l 0 20 a 20 20 90 0 0 20 20 l 65 0" marker-end="url(#arrow)" />
	</g>
<g class="box" transform="translate( 85 1075 )">
	<rect x="-85" y="0" width="170" height="65" />
	<text x="0" y="18" >Move all successful</text>
	<text x="0" y="36" >code from postponed.sql</text>
	<text x="0" y="54" >to create-tables.sql</text>
	<line x1="10" y1="65" x2="10" y2="85" />
	</g>
<g class="box" transform="translate( 85 1160 )">
	<rect x="-85" y="0" width="170" height="45" />
	<text x="0" y="18" >Delete corresponding</text>
	<text x="0" y="36" >entries from the list</text>
	<path d="M 10 45 l 0 20 a 20 20 90 0 1 -20 20 l -65 0" marker-end="url(#arrow)" />
	</g>
<g transform="translate(0 1245)">
	<circle cx="0" cy="0" r="10" />
	<line x1="0" y1="10" x2="0" y2="40" marker-end="url(#arrow)"/>
	</g>
<g class="box" transform="translate( 0 1305 )">
	<path d="M 0 -20 L 70 0 0 20 -70 0 z" />
	<text x="0" y="5" >List empty?</text>
	<text x="-90" y="-10" >no</text>
	<text x="25" y="35" >yes</text>
	<path d="M -70 0 l -150 0 a 20 20 90 0 1 -20 -20 l 0 -315" marker-end="url(#arrow)" />
	<line x1="0" y1="20" x2="0" y2="50" marker-end="url(#arrow)"/>
	</g>
<g class="box" transform="translate( 0 1370)">
	<circle cx="0" cy="0" r="15" />
	<text x="-40" y="3" >Done</text>
	</g>


<g style="display:none">

	</g>

</svg>
