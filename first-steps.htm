<!DOCTYPE html>
<html lang="en-US"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="template-info" file-name="empty.htm"version="2021-08-23" editor-name="usp" />
<meta name="author" content="usp" />
<meta name="creation-date" content="2021-12-11" />
<meta name="editor" content="usp" />
<meta name="change-date" content="2021-12-11" />
<meta name="version" content="1" />
<meta name="categories" content="Programming > Database > PostgreSQL" />
<meta name="tags" content="programming, database, PostgreSQL, tutorial, introduction" />
<meta name="description" content="A guide through the first steps to create a database." />

<link rel="stylesheet" href="/inc/page.css" />
 
<title>PostgreSQL - First Steps</title>

</head><body><div id="page-header"></div><div id="main-toolbar"></div><div id="content">

<h1>First Steps</h1>

<p id="page-abstract"></p>

<h2 cbc>Create the Database</h2><div>

<p>The first task is to create the database creation script <tt>create-db.sql</tt>:</p>

<figcaption class="listing">Database creation script</figcaption>
<pre>
CREATE DATABASE orga ENCODING 'UTF8' ;
</pre>

<p><tt>orga</tt> is the database name. The encoding spefication is optional, but I think it is a good and flexible choice.</p>

<p>To execute the script, start a console window like <tt>cmd.exe</tt>, and navigate (<tt>cd</tt>) to the script directory. Then start <tt>psql</tt>. Accept the defaults, then enter the password for the postgres server admin (<tt>postgres</tt>). Then you should see the following:</p>

<figcaption class="listing">Pspl welcome message</figcaption>
<pre>
psql (13.1)
Type "help" for help.
</pre>

<p>The <tt>\i</tt> command executes an SQL script file. So let's do that:</p>

<figcaption class="listing">Run the database creation script</figcaption>
<pre>\i create-db.sql</pre>

<p>The success message is non-verbose:</p>

<figcaption class="listing"></figcaption>
<pre>CREATE DATABASE</pre>

<p>To check the database catalog, run the <tt>\l</tt> command:</p>

<figcaption class="listing"></figcaption>
<pre class="mono">
      Name      |  Owner   | Encoding |          Collate           |           Ctype            |   Access privileges
----------------+----------+----------+----------------------------+----------------------------+-----------------------
 orga           | postgres | UTF8     | English_United States.1252 | English_United States.1252 |
 postgres       | postgres | UTF8     | English_United States.1252 | English_United States.1252 |
 template0      | postgres | UTF8     | English_United States.1252 | English_United States.1252 | =c/postgres          +
                |          |          |                            |                            | postgres=CTc/postgres
 template1      | postgres | UTF8     | English_United States.1252 | English_United States.1252 | =c/postgres          +
                |          |          |                            |                            | postgres=CTc/postgres
(4 rows)
</pre>

<p>Verify that the <tt>orga</tt> database is there.</p>

<!-- h2 Create the Database --></div>

<h2 cbc>Creating the Schema</h2><div>

<p>In this step we will create the database tables and their relations. Create the file <tt>create-tables-1.sql</tt> and add the first table definition:</p>

<figcaption class="listing"></figcaption>
<pre></pre>


<figcaption class="listing"></figcaption>
<pre>
CREATE TABLE IF NOT EXISTS items (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY ON UPDATE CASCADE,
    storageid INTEGER NOT NULL REFERENCES storage.id ,
    nkey INTEGER UNIQUE,
    name VARCHAR(50) NOT NULL DEFAULT "" ,
    description TEXT DEFAULT ""
    ) ;
</pre>


<!-- h2 Creating the Schema --></div>



<!--
<figcaption class="listing"></figcaption>
<pre></pre>
-->

</div><script type="module" src="/inc/page.js" ></script></body></html>